{% extends 'users/base.html' %}
{% load static %}

{% block content %}
    <header>
      <div class="header-container">
        <div class="header-logo">
          <a href="{% url 'index' %}" class="spo_logo"><img src="/static/vendor/images/spotify-logo.svg" /></a>
        </div>
        <!-- This is the menu that will be shown on mobile devices -->
        <nav class="nav-mobile">
          <!-- Profile -->
          <div class="profile">
            <svg viewBox="0 0 1024 1024" class="profile-icon">
              <path
                d="M730.06 679.64q-45.377 53.444-101.84 83.443t-120 29.999q-64.032 0-120.75-30.503t-102.6-84.451q-40.335 13.109-77.645 29.747t-53.948 26.722l-17.142 10.084Q106.388 763.84 84.96 802.41t-21.428 73.107 25.461 59.242 60.754 24.705h716.95q35.293 0 60.754-24.705t25.461-59.242-21.428-72.603-51.679-57.225q-6.554-4.033-18.907-10.84t-51.427-24.453-79.409-30.755zm-221.84 25.72q-34.285 0-67.561-14.873t-60.754-40.335-51.175-60.502-40.083-75.124-25.461-84.451-9.075-87.728q0-64.032 19.915-116.22t54.452-85.964 80.67-51.931 99.072-18.151 99.072 18.151 80.67 51.931 54.452 85.964 19.915 116.22q0 65.04-20.167 130.58t-53.948 116.72-81.426 83.443-98.568 32.268z"
              ></path>
            </svg>
          </div>
          <!-- Hamburger menu -->
          <input type="checkbox" class="toggler" />
          <div class="hamburger-menu"><div></div></div>
          <div class="menu">
            <div class="background-overlay"></div>
            <div class="menu-overlay">
              <ul>
                <li><a href="#">Premium</a></li>
                <li><a href="#">Help</a></li>
                <li><a href="#">Upload</a></li>
                <li role="separator"></li>
                <li><a href="#">Login</a></li>
                <li><a href="#">Log out</a></li>
                  <li><a href="#">Sign up</a></li>
              </ul>
              <div class="menu-overlay-logo">
                <img src="/static/vendor/images/spotify-logo.svg" />
              </div>
            </div>
          </div>
        </nav>
        <!-- This is the    menu that will be shown on Desktop -->
        <nav class="nav-desktop">
          <!-- Site menu -->
          <ul>
            <li><a href="#">Premium</a></li>
            <li><a href="#">Help</a></li>
            <li><a href="{% url 'music:music_list' %}">Upload</a></li>
            <li role="separator"></li>
          </ul>
          <!-- Profile menu -->
          <div class="profile-container">
            <input type="checkbox" class="dropdown-menu-toggler" />
            <div class="dropdown-menu">
              <ul>
                  {% if user.is_authenticated %}
                      <li><a href="{% url 'users:profile' %}">Profile</a></li>
                      {% if user.is_superuser or user.is_staff %}
                          <li><a href="{% url 'admin:index' %}">Admin panel</a></li>
                      {% endif %}
                      <li><a href="{% url 'users:logout' %}">Log out</a></li>
                  {% else %}
                      <li><a href="{% url 'users:login' %}" >Login</a></li>
                      <li><a href="{% url 'users:registration' %}" >Sing up</a></li>
                  {% endif %}
              </ul>
            </div>
            <div class="profile">
              <svg viewBox="0 0 1024 1024" class="profile-icon">
                <path
                  d="M730.06 679.64q-45.377 53.444-101.84 83.443t-120 29.999q-64.032 0-120.75-30.503t-102.6-84.451q-40.335 13.109-77.645 29.747t-53.948 26.722l-17.142 10.084Q106.388 763.84 84.96 802.41t-21.428 73.107 25.461 59.242 60.754 24.705h716.95q35.293 0 60.754-24.705t25.461-59.242-21.428-72.603-51.679-57.225q-6.554-4.033-18.907-10.84t-51.427-24.453-79.409-30.755zm-221.84 25.72q-34.285 0-67.561-14.873t-60.754-40.335-51.175-60.502-40.083-75.124-25.461-84.451-9.075-87.728q0-64.032 19.915-116.22t54.452-85.964 80.67-51.931 99.072-18.151 99.072 18.151 80.67 51.931 54.452 85.964 19.915 116.22q0 65.04-20.167 130.58t-53.948 116.72-81.426 83.443-98.568 32.268z"
                ></path>
              </svg>
            </div>
            <ul>
              <li>Profile</li>
              <li>
                <svg viewBox="0 0 1024 1024" class="profile-arrow">
                  <path
                    d="M476.455 806.696L95.291 425.532Q80.67 410.911 80.67 390.239t14.621-34.789 35.293-14.117 34.789 14.117L508.219 698.8l349.4-349.4q14.621-14.117 35.293-14.117t34.789 14.117 14.117 34.789-14.117 34.789L546.537 800.142q-19.159 19.159-38.318 19.159t-31.764-12.605z"
                  ></path>
                </svg>
              </li>
            </ul>
          </div>
        </nav>
      </div>
    </header>

    <div class="container">
        <div class="row">
            <div class="col-lg-7">
                <h4 class="mt-3 mb-3">Профиль</h4>
                <div class="col-lg-12 text-center">
                    <img width="100" height="100"
                         src="{% if user.image %} {{ user.image.url }} {% else %} {% static 'profile/img/default_avatar.jpg' %} {% endif %}"
                         class="img-thumbnail">
                </div>
                <form action="{% url 'users:profile' %}" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="form-row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label class="small mb-1" for="{{ form.first_name.id_for_label }}">Имя</label>
                                {{ form.first_name }}
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label class="small mb-1" for="{{ form.last_name.id_for_label }}">Фамилия</label>
                                {{ form.last_name }}
                            </div>
                        </div>
                    </div>
                    <div class="form-row mb-2">
                        <div class="col-lg-12">
                            <div class="custom-file">
                                {{ form.image }}
                                <label class="custom-file-label" for="{{ form.image.id_for_label }}">
                                    Выберите изображение
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-lg-6">
                            <label class="small mb-1" for="{{ form.username.id_for_label }}">Имя пользователя</label>
                            {{ form.username }}
                        </div>
                        <div class="col-lg-6">
                            <label class="small mb-1" for="{{ form.email.id_for_label }}">
                                Адрес электронной почты
                            </label>
                            {{ form.email }}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-lg-12" style="margin-top: 33px;">
                            <input class="btn btn-info btn-block" type="submit" value="Сохранить">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}